


<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=1020">
    
    
    <title>multipolygon inner polygon isn&#39;t subtracted properly if not tagged as outer · Issue #229 · mapsforge/mapsforge · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="multipolygon inner polygon isn&#39;t subtracted properly if not tagged as outer · Issue #229 · mapsforge/mapsforge" name="twitter:title" /><meta content="From mirarki...@gmail.com on January 14, 2012 23:02:11

Allegedly, you should be able to have multipolygons where the inner polygon does not share the same tagging as the outer polygon, and the inn..." name="twitter:description" /><meta content="https://avatars2.githubusercontent.com/u/430042?v=3&amp;s=400" name="twitter:image:src" />
      <meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars2.githubusercontent.com/u/430042?v=3&amp;s=400" property="og:image" /><meta content="multipolygon inner polygon isn&#39;t subtracted properly if not tagged as outer · Issue #229 · mapsforge/mapsforge" property="og:title" /><meta content="https://github.com/mapsforge/mapsforge/issues/229" property="og:url" /><meta content="From mirarki...@gmail.com on January 14, 2012 23:02:11

Allegedly, you should be able to have multipolygons where the inner polygon does not share the same tagging as the outer polygon, and the inn..." property="og:description" />
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    
    <meta name="pjax-timeout" content="1000">
    

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_issues" data-pjax-transient>

        <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="9E84FF69:4807:19EF5D7:55DB6315" name="octolytics-dimension-request_id" />
    
    <meta content="Rails, view, issues#show" data-pjax-transient="true" name="analytics-event" />
    <meta class="js-ga-set" name="dimension1" content="Logged Out">
      <meta class="js-ga-set" name="dimension4" content="Current repo nav">
    <meta name="is-dotcom" content="true">
        <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

      <link rel="icon" sizes="any" mask href="https://assets-cdn.github.com/pinned-octocat.svg">
      <meta name="theme-color" content="#4078c0">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

    <!-- </textarea> --><!-- '"` --><meta content="authenticity_token" name="csrf-param" />
<meta content="uZmmYPIhGlPzsJTG1IAt3n6sI4BxMdunWyLe32zgRVirrT1j0EN4uYGci799slYf4OeCNbOqpqf1PLQRmsF5Ig==" name="csrf-token" />
    

    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github/index-17ad0ea72cb80a46ba6d1bd6e3c69789acb0e1c0cae43beb90477759cce1bdfd.css" media="all" rel="stylesheet" />
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github2/index-9f11074052a3551cd7bae2fba8b949844d2d7329927a7f1cb5a2c2a821f016e0.css" media="all" rel="stylesheet" />
    
    


    <meta http-equiv="x-pjax-version" content="239d32d0023038613a9092dfdd8544d0">

      
  <meta name="description" content="The new home of mapsforge.">
  <meta name="go-import" content="github.com/mapsforge/mapsforge git https://github.com/mapsforge/mapsforge.git">

  <meta content="430042" name="octolytics-dimension-user_id" /><meta content="mapsforge" name="octolytics-dimension-user_login" /><meta content="26262349" name="octolytics-dimension-repository_id" /><meta content="mapsforge/mapsforge" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="26262349" name="octolytics-dimension-repository_network_root_id" /><meta content="mapsforge/mapsforge" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/mapsforge/mapsforge/commits/master.atom" rel="alternate" title="Recent Commits to mapsforge:master" type="application/atom+xml">

  </head>


  <body class="logged_out  env-production  vis-public">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      



        
        <div class="header header-logged-out" role="banner">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions" role="navigation">
        <a class="btn btn-primary" href="/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
      <a class="btn" href="/login?return_to=%2Fmapsforge%2Fmapsforge%2Fissues%2F229" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
    </div>

    <div class="site-search repo-scope js-site-search" role="search">
      <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/mapsforge/mapsforge/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/mapsforge/mapsforge/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <label class="js-chromeless-input-container form-control">
    <div class="scope-badge">This repository</div>
    <input type="text"
      class="js-site-search-focus js-site-search-field is-clearable chromeless-input"
      data-hotkey="s"
      name="q"
      placeholder="Search"
      aria-label="Search this repository"
      data-global-scope-placeholder="Search GitHub"
      data-repo-scope-placeholder="Search"
      tabindex="1"
      autocapitalize="off">
  </label>
</form>
    </div>

      <ul class="header-nav left" role="navigation">
          <li class="header-nav-item">
            <a class="header-nav-link" href="/explore" data-ga-click="(Logged out) Header, go to explore, text:explore">Explore</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/features" data-ga-click="(Logged out) Header, go to features, text:features">Features</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://enterprise.github.com/" data-ga-click="(Logged out) Header, go to enterprise, text:enterprise">Enterprise</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/pricing" data-ga-click="(Logged out) Header, go to pricing, text:pricing">Pricing</a>
          </li>
      </ul>

  </div>
</div>



      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">

        <div class="clearfix">
          
<ul class="pagehead-actions">

  <li>
      <a href="/login?return_to=%2Fmapsforge%2Fmapsforge"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <span class="octicon octicon-eye"></span>
    Watch
  </a>
  <a class="social-count" href="/mapsforge/mapsforge/watchers">
    35
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fmapsforge%2Fmapsforge"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <span class="octicon octicon-star"></span>
    Star
  </a>

    <a class="social-count js-social-count" href="/mapsforge/mapsforge/stargazers">
      161
    </a>

  </li>

    <li>
      <a href="/login?return_to=%2Fmapsforge%2Fmapsforge"
        class="btn btn-sm btn-with-count tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-repo-forked"></span>
        Fork
      </a>
      <a href="/mapsforge/mapsforge/network" class="social-count">
        82
      </a>
    </li>
</ul>

          <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public ">
  <span class="mega-octicon octicon-repo"></span>
  <span class="author"><a href="/mapsforge" class="url fn" itemprop="url" rel="author"><span itemprop="title">mapsforge</span></a></span><!--
--><span class="path-divider">/</span><!--
--><strong><a href="/mapsforge/mapsforge" data-pjax="#js-repo-pjax-container">mapsforge</a></strong>

  <span class="page-context-loader">
    <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
  </span>

</h1>
        
        </div>
      </div>
    </div>

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline ">
        <div class="repository-sidebar clearfix">
          
<nav class="sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container"
     data-issue-count-url="/mapsforge/mapsforge/issues/counts">
  <ul class="sunken-menu-group">
    <li class="tooltipped tooltipped-w" aria-label="Code">
      <a href="/mapsforge/mapsforge" aria-label="Code" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /mapsforge/mapsforge">
        <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Issues">
        <a href="/mapsforge/mapsforge/issues" aria-label="Issues" aria-selected="true" class="js-selected-navigation-item selected sunken-menu-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /mapsforge/mapsforge/issues">
          <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
          <span class="js-issue-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

    <li class="tooltipped tooltipped-w" aria-label="Pull requests">
      <a href="/mapsforge/mapsforge/pulls" aria-label="Pull requests" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g p" data-selected-links="repo_pulls /mapsforge/mapsforge/pulls">
          <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull requests</span>
          <span class="js-pull-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Wiki">
        <a href="/mapsforge/mapsforge/wiki" aria-label="Wiki" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g w" data-selected-links="repo_wiki /mapsforge/mapsforge/wiki">
          <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
  </ul>
  <div class="sunken-menu-separator"></div>
  <ul class="sunken-menu-group">

    <li class="tooltipped tooltipped-w" aria-label="Pulse">
      <a href="/mapsforge/mapsforge/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-selected-links="pulse /mapsforge/mapsforge/pulse">
        <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

    <li class="tooltipped tooltipped-w" aria-label="Graphs">
      <a href="/mapsforge/mapsforge/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-selected-links="repo_graphs repo_contributors /mapsforge/mapsforge/graphs">
        <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>
  </ul>


</nav>

            <div class="only-with-full-nav">
                
<div class="js-clone-url clone-url open"
  data-protocol-type="http">
  <h3><span class="text-emphasized">HTTPS</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/mapsforge/mapsforge.git" readonly="readonly" aria-label="HTTPS clone URL">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="js-clone-url clone-url "
  data-protocol-type="subversion">
  <h3><span class="text-emphasized">Subversion</span> checkout URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/mapsforge/mapsforge" readonly="readonly" aria-label="Subversion checkout URL">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>



  <div class="clone-options">You can clone with
    <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone" class="inline-form js-clone-selector-form " data-form-nonce="3267d2cd90677f746fa903ea48c4f90dba4e6f00" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="Wuj1qr83WSHHacpZmNB5Mhi8AbRLgPSuggPXI77cg4SukcEH2S64xfW8/t3seNSNMjGPpc1maMUVx6cyQ8xH1w==" /></div><button class="btn-link js-clone-selector" data-protocol="http" type="submit">HTTPS</button></form> or <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone" class="inline-form js-clone-selector-form " data-form-nonce="3267d2cd90677f746fa903ea48c4f90dba4e6f00" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="xzUySYSSwhlk7zfCUO7ixDhhtLIX05crwWUHuRA9n3HRt0Z2SyYbQUcmR5pekPeVEtjWuE7efubj6s/vqVStiQ==" /></div><button class="btn-link js-clone-selector" data-protocol="subversion" type="submit">Subversion</button></form>.
    <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
      <span class="octicon octicon-question"></span>
    </a>
  </div>

              <a href="/mapsforge/mapsforge/archive/master.zip"
                 class="btn btn-sm sidebar-button"
                 aria-label="Download the contents of mapsforge/mapsforge as a zip file"
                 title="Download the contents of mapsforge/mapsforge as a zip file"
                 rel="nofollow">
                <span class="octicon octicon-cloud-download"></span>
                Download ZIP
              </a>
            </div>
        </div>
        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>

          
<style type="text/css" media="screen">
  span.labelstyle-FFFFFF, .linked-labelstyle-FFFFFF {  background-color: #FFFFFF !important;  color: #333333 !important;}.labelstyle-FFFFFF.selected {  background-color: #FFFFFF !important;  color: #333333 !important;}.label-select-menu .labelstyle-FFFFFF.selected {  background:rgba(255, 255, 255, 0.12) !important;  color: #999999 !important;}

span.labelstyle-fc2929, .linked-labelstyle-fc2929 {  background-color: #fc2929 !important;  color: #fff !important;}.labelstyle-fc2929.selected {  background-color: #fc2929 !important;  color: #fff !important;}.label-select-menu .labelstyle-fc2929.selected {  background:rgba(252, 41, 41, 0.12) !important;  color: #991818 !important;}

span.labelstyle-cccccc, .linked-labelstyle-cccccc {  background-color: #cccccc !important;  color: #333333 !important;}.labelstyle-cccccc.selected {  background-color: #cccccc !important;  color: #333333 !important;}.label-select-menu .labelstyle-cccccc.selected {  background:rgba(204, 204, 204, 0.12) !important;  color: #999999 !important;}

span.labelstyle-84b6eb, .linked-labelstyle-84b6eb {  background-color: #84b6eb !important;  color: #1c2733 !important;}.labelstyle-84b6eb.selected {  background-color: #84b6eb !important;  color: #1c2733 !important;}.label-select-menu .labelstyle-84b6eb.selected {  background:rgba(132, 182, 235, 0.12) !important;  color: #557699 !important;}

span.labelstyle-159818, .linked-labelstyle-159818 {  background-color: #159818 !important;  color: #fff !important;}.labelstyle-159818.selected {  background-color: #159818 !important;  color: #fff !important;}.label-select-menu .labelstyle-159818.selected {  background:rgba(21, 152, 24, 0.12) !important;  color: #159918 !important;}

span.labelstyle-e6e6e6, .linked-labelstyle-e6e6e6 {  background-color: #e6e6e6 !important;  color: #333333 !important;}.labelstyle-e6e6e6.selected {  background-color: #e6e6e6 !important;  color: #333333 !important;}.label-select-menu .labelstyle-e6e6e6.selected {  background:rgba(230, 230, 230, 0.12) !important;  color: #999999 !important;}

span.labelstyle-cc317c, .linked-labelstyle-cc317c {  background-color: #cc317c !important;  color: #fff !important;}.labelstyle-cc317c.selected {  background-color: #cc317c !important;  color: #fff !important;}.label-select-menu .labelstyle-cc317c.selected {  background:rgba(204, 49, 124, 0.12) !important;  color: #99245c !important;}

span.labelstyle-ffffff, .linked-labelstyle-ffffff {  background-color: #ffffff !important;  color: #333333 !important;}.labelstyle-ffffff.selected {  background-color: #ffffff !important;  color: #333333 !important;}.label-select-menu .labelstyle-ffffff.selected {  background:rgba(255, 255, 255, 0.12) !important;  color: #999999 !important;}
</style>

<div class="issues-listing" data-pjax>
  <div class="context-loader large-format-loader">
  <p><img alt="" height="64" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif" width="64" /></p>
  <p>Loading…</p>
</div>

    <div id="show_issue" class="js-issues-results">

    
  <div
    id="partial-discussion-header"
    class="gh-header js-details-container js-socket-channel js-updatable-content issue"
    data-channel="mapsforge/mapsforge:issue:47941970"
    data-url="/mapsforge/mapsforge/issues/229/show_partial?partial=issues%2Ftitle">

  <div class="gh-header-show ">
      <div class="gh-header-actions">
          <a href="/mapsforge/mapsforge/issues/new" class="btn btn-sm btn-primary right" data-hotkey="c">
            New issue
          </a>
      </div>

    <h1 class="gh-header-title">
      <span class="js-issue-title">multipolygon inner polygon isn&#39;t subtracted properly if not tagged as outer</span>
      <span class="gh-header-number">#229</span>
    </h1>
  </div>


  <div class="flex-table gh-header-meta">
    <div class="flex-table-item">
        <div class="state state-open">
          <span class="octicon octicon-issue-opened"></span>
          Open
        </div>
    </div>
    <div class="flex-table-item flex-table-item-primary">
        <a href="/mapsforge" class="author">mapsforge</a> opened this <span class="noun">Issue</span> <time datetime="2014-11-06T09:46:05Z" is="relative-time">Nov 6, 2014</time>
        &middot; 20 comments
    </div>
  </div>
</div>


    <div id="discussion_bucket" class="tab-content clearfix">
      <div class="discussion-sidebar ">
        <div id="partial-discussion-stats"
     class="discussion-stats js-socket-channel js-updatable-content"
     data-channel="mapsforge/mapsforge:issue:47941970"
     data-url="/mapsforge/mapsforge/issues/229/show_partial?partial=issues%2Fdiscussion_stats">
</div>

<div class="discussion-sidebar-item sidebar-labels js-discussion-sidebar-item">
  <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/mapsforge/mapsforge/issues/229?partial=issues%2Fsidebar%2Fshow%2Flabels" class="js-issue-sidebar-form" data-form-nonce="3267d2cd90677f746fa903ea48c4f90dba4e6f00" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="_method" type="hidden" value="put" /><input name="authenticity_token" type="hidden" value="9KQ9AOVgmgpgKSiidceQukcqmRrtw2IHbb8wLPxgS1c1FfxfRohq3uRhOA8DOHcAlEANQi6nHrDhFPhtdfPnqg==" /></div>
      
  <h3 class="discussion-sidebar-heading">
    Labels
  </h3>


    <div class="labels css-truncate">
      <a href="/mapsforge/mapsforge/labels/bug" class="label css-truncate-target linked-labelstyle-fc2929" title="bug">bug</a>
  <a href="/mapsforge/mapsforge/labels/imported" class="label css-truncate-target linked-labelstyle-FFFFFF" title="imported">imported</a>
  <a href="/mapsforge/mapsforge/labels/Priority-Medium" class="label css-truncate-target linked-labelstyle-FFFFFF" title="Priority-Medium">Priority-Medium</a>

</div>

</form></div>

<div class="discussion-sidebar-item sidebar-milestone js-discussion-sidebar-item">
  <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/mapsforge/mapsforge/issues/229/set_milestone?partial=issues%2Fsidebar%2Fshow%2Fmilestone" class="js-issue-sidebar-form" data-form-nonce="3267d2cd90677f746fa903ea48c4f90dba4e6f00" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="_method" type="hidden" value="put" /><input name="authenticity_token" type="hidden" value="SjLszCh+rFe9fg9lcceZkQQF90RA8B/7G3gWfSXXZEpd/Czb8aY7DcgrdNgu4GnKtzA+Ikj1rnLxucWv0s5sJA==" /></div>
    
  <h3 class="discussion-sidebar-heading">
    Milestone
  </h3>


      No milestone

</form></div>

<div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item">
  <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/mapsforge/mapsforge/issues/229?partial=issues%2Fsidebar%2Fshow%2Fassignee" class="js-issue-sidebar-form" data-form-nonce="3267d2cd90677f746fa903ea48c4f90dba4e6f00" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="_method" type="hidden" value="put" /><input name="authenticity_token" type="hidden" value="dypqTrvHft8sVTuJu4ptpIpGriCJ3P/he4OL9yZJja7GHQQxsqrLROkwpTuLQMEnbGZoN0pHBUxU5YOdtjuK9A==" /></div>
    
  <h3 class="discussion-sidebar-heading">
    Assignee
  </h3>


    <span class="css-truncate">
      No one assigned
</span>

</form></div>


<div id="partial-users-participants" class="discussion-sidebar-item js-socket-channel js-updatable-content"
    data-channel="mapsforge/mapsforge:issue:47941970"
      data-url="/mapsforge/mapsforge/issues/229/show_partial?partial=issues%2Fparticipants"
  >
  <div class="participation">

    <h3 class="discussion-sidebar-heading">
      1 participant
    </h3>
    <div class="participation-avatars">
        <a class="participant-avatar tooltipped tooltipped-s" aria-label="mapsforge" href="/mapsforge"><img alt="@mapsforge" class="avatar" height="20" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=40" width="20" /> </a>
    </div>
  </div>
</div>




      </div>

      <div class="discussion-timeline js-quote-selection-container">

        <div class="js-discussion js-socket-channel" data-channel="mapsforge/mapsforge:marked-as-read:47941970">
          

  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issue-47941970"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="e02795460b4f208ff6f9b101f172a536">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issue-47941970" class="timestamp">
      <time datetime="2014-11-06T09:46:05Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114693895068332180105/">mirarki...@gmail.com</a> on January 14, 2012 23:02:11</em></p>

<p>Allegedly, you should be able to have multipolygons where the inner polygon does not share the same tagging as the outer polygon, and the inner polygons are still subtracted.</p>

<p>for instance:</p>

<p>relation: multipolygon<br>
outer polygon: building=yes<br>
inner polygon: -</p>

<p>should still be rendered as a building with holes. </p>

<p>relation: multipolygon building=yes<br>
outer polygon: -<br>
inner polygon: -</p>

<p>should also be rendered as a building with holes. (But isn't in potlach 2.)</p>

<p>relation: multipolygon<br>
outer polygon: building=yes<br>
inner polygon: landuse=forest</p>

<p>should be rendered as a building with a forest inside.</p>

<p>When testing, only</p>

<p>relation: multipolygon<br>
outer polygon: building=yes<br>
inner polygon: building=yes</p>

<p>rendered correctly.</p>

<p><em>Original issue: <a href="http://code.google.com/p/mapsforge/issues/detail?id=229">http://code.google.com/p/mapsforge/issues/detail?id=229</a></em></p>
      </div>
    </div>

  </div>
</div>

  </div>
  
      


  <div class="discussion-item discussion-item-labeled">
    <div class="discussion-item-header" id="event-189204069">

      <span class="octicon octicon-tag discussion-item-icon"></span>
      <img alt="@mapsforge" class="avatar" height="16" src="https://avatars0.githubusercontent.com/u/430042?v=3&amp;s=32" width="16" />
      <a href="/mapsforge" class="author">mapsforge</a>
        added <span class="label-color" style="background-color: #fc2929;" title="by mapsforge at 2014-11-06 09:46:05"><a href="/mapsforge/mapsforge/labels/bug" style="color: #fff">bug</a></span> <span class="label-color" style="background-color: #FFFFFF;" title="by mapsforge at 2014-11-06 09:46:05"><a href="/mapsforge/mapsforge/labels/imported" style="color: #333333">imported</a></span> <span class="label-color" style="background-color: #FFFFFF;" title="by mapsforge at 2014-11-06 09:46:05"><a href="/mapsforge/mapsforge/labels/Priority-Medium" style="color: #333333">Priority-Medium</a></span> labels <a href="https://github.com/mapsforge/mapsforge/issues/229#event-189204069" class="timestamp"><time class="timestamp" datetime="2014-11-06T09:46:05Z" is="relative-time">Nov 6, 2014</time></a>
    </div>
  </div>



  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951875"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="4f2fe11220ba339ff7a888ff62d57946">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951875" class="timestamp">
      <time datetime="2014-11-06T09:46:06Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/jjbross@gmail.com/">jjbross@gmail.com</a> on January 15, 2012 05:57:43</em></p>

<p>Thanks for reporting this issue. Please provide the version number of the mapsforge library which used for testing.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951877"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="79e21f6a3357d323dc61e4c912b92bdc">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951877" class="timestamp">
      <time datetime="2014-11-06T09:46:07Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/109067824594513388759/">thilo.mu...@gmail.com</a> on February 11, 2012 05:41:28</em></p>

<p><strong>Owner:</strong> <a href="mailto:jjbross@gmail.com">jjbross@gmail.com</a>  </p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951881"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="5267f6d48cfee2fba19120df4aba28fd">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951881" class="timestamp">
      <time datetime="2014-11-06T09:46:08Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/jjbross@gmail.com/">jjbross@gmail.com</a> on February 23, 2012 12:09:15</em></p>

<p>Is this issue still valid? Reporter has not replied with requested information.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951882"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="6b89c980b8c8e48215a28f5b09ab065b">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951882" class="timestamp">
      <time datetime="2014-11-06T09:46:08Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114693895068332180105/">mirarki...@gmail.com</a> on February 23, 2012 23:17:50</em></p>

<p>This no longer seems to be an issue - or the maps have been updated where I spotted it.</p>

<p>It was here, for instance, which now is rendered with amenity=school covering the actual building, that'll be another bug (?): <a href="http://www.openstreetmap.org/?lat=60.622627&amp;lon=15.623472&amp;zoom=18&amp;layers=M">http://www.openstreetmap.org/?lat=60.622627&amp;lon=15.623472&amp;zoom=18&amp;layers=M</a> I saw an issue with multipolygons not joining correctly though, I'll post that in a separate report.</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc4">multipolygon3.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951884"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="65dc23bf7282d0a444ff335a8b894675">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951884" class="timestamp">
      <time datetime="2014-11-06T09:46:09Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114693895068332180105/">mirarki...@gmail.com</a> on February 23, 2012 23:21:56</em></p>

<p>Actually, I'll take that back. That building actually isn't rendered, and my other testcases have gotten landuse=forest in the outer polygon. This is the latest versions from the site (writer and viewer, 0.2.4) and a late Locus as well.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951886"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="9df0dcea6530d079d725c86dcda902f2">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951886" class="timestamp">
      <time datetime="2014-11-06T09:46:10Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114693895068332180105/">mirarki...@gmail.com</a> on February 23, 2012 23:23:33</em></p>

<p>That means that one of the cases, </p>

<p>outer: landuse=forest<br>
inner: *<br>
multipolygon: *</p>

<p>works, but not </p>

<p>outer: -<br>
inner: *<br>
multipolygon: building=yes</p>

<p>?</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951887"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="ad029ddd00f1370f365d6130977535a6">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951887" class="timestamp">
      <time datetime="2014-11-06T09:46:11Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/jjbross@gmail.com/">jjbross@gmail.com</a> on February 24, 2012 09:34:51</em></p>

<p>please test with latest SVN version, I guess this is a duplicate of issue188</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951891"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="52081a9b4db9577e198711bde559025d">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951891" class="timestamp">
      <time datetime="2014-11-06T09:46:12Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114693895068332180105/">mirarki...@gmail.com</a> on February 25, 2012 07:20:59</em></p>

<p>I can't test with the latest svn version. The mapfile-writer 3.0.0 creates a map that isn't compatible with any app I can run, and I haven't got the faintest on how to build a new AdvancedMapViewer. If you can point me to a compiled .apk for the map viewer I can test.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951893"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="b6a93835a848da173e206490519ca721">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951893" class="timestamp">
      <time datetime="2014-11-06T09:46:12Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/109067824594513388759/">thilo.mu...@gmail.com</a> on March 03, 2012 12:08:20</em></p>

<p>The AdvancedMapViewer is not yet a maven project but just an ordinary Android project for Eclipse, which you can check out from our SVN repository. You will find it in the following directory: trunk/Applications/Android/AdvancedMapViewer</p>

<p>You will need to install the Android SDK for Eclipse. To build the rest of the mapsforge project with maven, please follow the instructions on the GettingStartedDevelopers wiki article.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951896"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="c15e851e7710c4e0357f19dd2db794b3">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951896" class="timestamp">
      <time datetime="2014-11-06T09:46:13Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/113327232123772191739/">LudwigBr...@gmail.com</a> on March 04, 2012 03:08:40</em></p>

<p>I have just stumbled over what I think is an instance of this problem. Both reader and were built with r1856 , the viewer was the AdvancedMapViewer.</p>

<p>The area in question is a river area in Warsaw, Poland. </p>

<p>This is a view on OSM: <a href="http://www.openstreetmap.org/?lat=52.2533&amp;lon=21.0261&amp;zoom=15&amp;layers=M">http://www.openstreetmap.org/?lat=52.2533&amp;lon=21.0261&amp;zoom=15&amp;layers=M</a> I think the relation in question is #215712, but there might be others involved. It is a complicated relation and while it shows correctly on OSM.org, the data itself might be flawed.</p>

<p>Attached are a two screenshots which show that somehow polygon creation is going totally wrong.</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc10">1856-warsaw.png 1856-warsaw-2.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951897"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="525f209e03c1ddd1cb80b7ff9f73c625">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951897" class="timestamp">
      <time datetime="2014-11-06T09:46:14Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114693895068332180105/">mirarki...@gmail.com</a> on March 04, 2012 23:25:35</em></p>

<p>You couldn't point me to a built AdvancedMapViewer, could you? I'm not an Android developer, so I don't have the infrastructure or the time to set it up. </p>

<p>But the same thing probably happen to all major rivers, lakes and oceans?</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951899"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="c55da9483d9b38077b77cafd16665dce">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951899" class="timestamp">
      <time datetime="2014-11-06T09:46:14Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/113327232123772191739/">LudwigBr...@gmail.com</a> on March 05, 2012 04:20:06</em></p>

<p>Just tested this with r1881 , the more northerly area of the river now appears correct, but the river part south of it is missing. Screenshot attached. <br>
Sorry, right now in area with very poor internet connection, so cannot investigate further.</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc12">1881-warsaw.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951903"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="6d288041183d41cae352dc6822965e75">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951903" class="timestamp">
      <time datetime="2014-11-06T09:46:15Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/113327232123772191739/">LudwigBr...@gmail.com</a> on March 21, 2012 04:21:11</em></p>

<p>Another instance of this, this time in central Rome. This shows a regression in the 3.x library against 2.4. I have not investigated this further, but I think the cause is probably the same.  The 2.4 map was done with r1413 , the 3.0 with r1975 .</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc13">rome-1413.png rome-1975.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951906"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="75ae9ea3f61cab388567fa836e361431">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951906" class="timestamp">
      <time datetime="2014-11-06T09:46:15Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/113327232123772191739/">LudwigBr...@gmail.com</a> on March 21, 2012 06:11:42</em></p>

<p>I think the problem for Rome is relation #5071.<br>
See <a href="http://www.openstreetmap.org/?lat=41.89859&amp;lon=12.46618&amp;zoom=16&amp;layers=M">http://www.openstreetmap.org/?lat=41.89859&amp;lon=12.46618&amp;zoom=16&amp;layers=M</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951908"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="39adaea46f0867e43384d0c5f83ccf65">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951908" class="timestamp">
      <time datetime="2014-11-06T09:46:16Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/113327232123772191739/">LudwigBr...@gmail.com</a> on March 22, 2012 00:06:10</em></p>

<p>I investigated this a bit further and played around with the mapfile writer, particularly the way relations are handled. The unfortunate fact is that OSM contains a lot of invalid data. The mapfile writer ignores all relations that have invalid data, even though in some cases this is just an inner polygon that is not correctly closed. In this case the entire relation is ignored, leading to very obvious rendering errors. </p>

<p>One experiment I made was to ignore the errors in the polygons and just continue on. In BaseTileBasedDataProcessor.java I commented out the returns like this:</p>

<pre><code>        // skip invalid relations
        if (!this.polygonizer.getDangling().isEmpty()) {
            LOGGER.fine("relation contains dangling ways which could not be merged to polygons: "
                    + relation.getId());
            //return true;
        } else if (!this.polygonizer.getIllegal().isEmpty()) {
            LOGGER.fine("relation contains illegal closed ways with fewer than 4 nodes: " + relation.getId());
            //return true;
        }
</code></pre>

<p>The result is that the river section that disappeared previously is now rendered. It is certainly not rendered entirely correctly, but the main features appear, which I think is a better solution. Screenshot is attached.</p>

<p>I think there is a case of a 'best effort' rendering that tries to render something even though the underlying data is not correct. Maybe the behaviour could be controlled by a command-line switch, which would help to make differences clear and help quality control.</p>

<p>Some food for thought.</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc15">rome-1975m.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951910"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="73fb6367c5e41b4835ed69e28af6159e">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951910" class="timestamp">
      <time datetime="2014-11-06T09:46:17Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/114746178391836128377/">vshpi...@gmail.com</a> on March 27, 2012 00:05:10</em></p>

<p>Can you please advise on other tweaks to map-writer code from your experiments on this matter? I've attached a screenshot of New York map, AMV is built from 0.3.1 snapshot, as well as the map-writer, the "return true" lines were commented out.<br>
PBF from Geofabrik was used, --bp completeWays=yes(tried without this option and with clipIncompleteEntities=true).</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc17">device-2012-03-27-003123.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951911"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="e1b44d596eb957daefb9fcb28fd33f38">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951911" class="timestamp">
      <time datetime="2014-11-06T09:46:17Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/jjbross@gmail.com/">jjbross@gmail.com</a> on March 28, 2012 12:45:22</em></p>

<p>I have added a boolean parameter 'skip-invalid-relations' to the map writer which controls whether relations that contain invalid data are added to the map file or not.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951913"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="a3dfca3defdb7f40c71968f0cff6abcd">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951913" class="timestamp">
      <time datetime="2014-11-06T09:46:18Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/112928901021613045315/">jos...@gmail.com</a> on April 11, 2012 00:20:45</em></p>

<p>Not really sure, if it is related, but I'm having similar issue with multipolygon rendering. I've attached a file, how the map is rendered, here's a link to actual location in OpenStreetMap: <a href="http://osm.org/go/0lP6wSgl--">http://osm.org/go/0lP6wSgl--</a> .</p>

<p><strong>Attachment:</strong> <a href="http://code.google.com/p/mapsforge/issues/detail?id=229#hc19">vilnius-draw-error.png</a></p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951914"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="d12878e93b4659f4af5ebdcb77a9f059">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951914" class="timestamp">
      <time datetime="2014-11-06T09:46:18Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/113327232123772191739/">LudwigBr...@gmail.com</a> on April 11, 2012 06:30:26</em></p>

<p>I have seen this problem in Vilnius, but I am not sure if this is the same issue. It was actually present in pre 0.3 maps, albeit in slightly different form. </p>

<p>I tried to investigate it a bit, but gave up due to time constraints. I am just sharing here what I remember on top of my head. </p>

<p>The river here is made of a multipolygon with several riverbank stretches. It renders correctly in the standard OSM Mapnik renderer (which is extremely forgiving when it comes to bad data), but at least in the version that I investigated a few months ago also rendered incorrectly in the Merkaartor OSM editor. </p>

<p>What somehow happens is that instead of taking the longer way along the actual riverbank, the particular stretch of riverbank was drawn as the shortest line between two end-points of riverbank ways and thus the river overflows in the bend. (The same seems to happen in the lower left corner of your image as well).  </p>

<p>At the end I was not sure if this was a OSM data problem (relations are hard to understand) or a borderline case where relation data is somehow misinterpreted by Merkaartor and mapsforge. </p>

<p>Maybe this is a directional problem that the overflowing stretch has the wrong direction and thus the endpoints are incorrectly matched.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  <div class="timeline-comment-wrapper js-comment-container">
    <a href="/mapsforge"><img alt="@mapsforge" class="timeline-comment-avatar" height="48" src="https://avatars3.githubusercontent.com/u/430042?v=3&amp;s=96" width="48" /></a>
    <div id="issuecomment-61951915"
     class="comment previewable-edit timeline-comment js-comment js-task-list-container owner-comment"
     data-body-version="a2f666aa3d40767a5db6e67c09be5bee">

  <div class="timeline-comment-header ">


    <span class="timeline-comment-label">Owner</span>


  <div class="timeline-comment-header-text">

    <strong>
      <a href="/mapsforge" class="author">mapsforge</a>
    </strong>

    commented

    <a href="#issuecomment-61951915" class="timestamp">
      <time datetime="2014-11-06T09:46:19Z" is="relative-time">Nov 6, 2014</time>
    </a>
  </div>
</div>


  <div class="comment-content">

    <div class="edit-comment-hide">
      <div class="comment-body markdown-body markdown-format js-comment-body">
          <p><em>From <a href="https://code.google.com/u/109067824594513388759/">thilo.mu...@gmail.com</a> on August 09, 2012 10:07:34</em></p>

<p>Issue 345 has been merged into this issue.</p>
      </div>
    </div>

  </div>
</div>

  </div>
  
      <div class="discussion-item discussion-item-ref">
    <div class="discussion-item-header" id="ref-issue-47942877">
      <span class="octicon octicon-bookmark discussion-item-icon"></span>

      <img alt="@mapsforge" class="avatar" height="16" src="https://avatars0.githubusercontent.com/u/430042?v=3&amp;s=32" width="16" />
      <a href="/mapsforge" class="author" truncate="true">mapsforge</a>

      referenced
      this issue
      <a class="timestamp" href="#ref-issue-47942877">
        <time datetime="2014-11-06T09:55:52Z" is="relative-time">Nov 6, 2014</time>
      </a>
    </div>

      <span class="state state-closed right">
          <span class="octicon octicon-issue-opened"></span>
        Closed
      </span>



    <h3 class="discussion-item-ref-title">
      <a href="/mapsforge/mapsforge/issues/345" class="title-link">
        Not corrected show of the rivers and reservoirs
        <span class="issue-num">#345</span>
</a>    </h3>
    
  </div>





<!-- Rendered timeline since 2014-11-06 01:55:52 -->
<div id="partial-timeline-marker"
      class="js-timeline-marker js-socket-channel js-updatable-content"
      data-channel="mapsforge/mapsforge:issue:47941970"
      data-url="/mapsforge/mapsforge/issues/229/show_partial?partial=issues%2Ftimeline_marker&amp;since=1415267752"
      data-last-modified="Thu, 06 Nov 2014 09:55:52 GMT">

    <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/mapsforge/mapsforge/notifications/mark?ids=48162705" class="hidden js-timeline-marker-form" data-form-nonce="3267d2cd90677f746fa903ea48c4f90dba4e6f00" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="1UTPi+Y9pBpEI83hCvhjDhvk6VPDW7ZzRRPU+dt5emgLmP+nGGt5yH7oU4ptzxtwxCovH3Mo9K0E4htWI4vLJw==" /></div>
</form></div>


        </div>

          <div class="discussion-timeline-actions">
                <div class="signed-out-comment">
	<a href="/join" class="btn btn-primary" rel="nofollow">Sign up for free</a>
	<strong>to join this conversation on GitHub</strong>.
	Already have an account?
	<a href="/login?return_to=https%3A%2F%2Fgithub.com%2Fmapsforge%2Fmapsforge%2Fissues%2F229" rel="nofollow">Sign in to comment</a>
</div>


          </div>
      </div>

    </div>
    <div class="clear"></div>
  </div>

</div>


        </div>
      </div>
      <div class="modal-backdrop"></div>
    </div>
  </div>


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>
        <li><a href="https://github.com/pricing" data-ga-click="Footer, go to pricing, text:pricing">Pricing</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.12382s from github-fe144-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder="" aria-label=""></textarea>
      <div class="suggester-container">
        <div class="suggester fullscreen-suggester js-suggester js-navigation-container"></div>
      </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    
    

    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x flash-close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-df03cb524192fbb325ef264ca1bdee425481db0aadf702dd6d209d1fa0ccf572.js"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github/index-e321a5911341a3613eea06a9cc3f6ea636b3cdc377824313d67ad604a5e8d9e1.js"></script>
      
      
    <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner hidden">
      <span class="octicon octicon-alert"></span>
      <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
      <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
    </div>
  </body>
</html>

